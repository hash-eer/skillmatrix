{% extends 'base.html' %}
{% block content %}

<div class="container py-7">
    <header class="text-center text-white">
         
            
                
            
            </a>
          </p>
        </header>


        <div class="row py-5 overflow-auto" style="overflow:auto">
          <div class="overflow-auto">
            <div class="card rounded shadow border-0">
              <div class="card-body p-5 bg-white rounded">
                <div class="table-responsive">
                   


                    <div id="example_filter" class="dataTables_filter">
                     
                      <a href="{% url 'list' %}" class="btn btn-danger float-right">Clear</a>
                    </div>
                     <form action="" >

                       <div class="form-control">
                         
                         <select id="skill" name="skill" class="custom-select col-md-2" >
                          <option value="{% if request.GET.skill %}{{ request.GET.skill }}{% else %}{% endif %}" selected>{% if request.GET.skill %}{{ request.GET.skill }}{% else %}Select Skill{% endif %}</option>
                           {% for sk in s %}
                           <option value="{{sk.id}}">{{sk.name}}</option>
                           {% endfor %}
                           
                          </select>

                          <select id="level" name="level" class="custom-select col-md-2" >
                            <option value="{% if request.GET.level %}{{ request.GET.level }}{% else %}{% endif %}" selected>{% if request.GET.level %}{{ request.GET.level }}{% else %}Select Level{% endif %}</option>
                             {% for lk in l %}
                             <option value="{{lk.id}}">{{lk.level}}</option>
                             {% endfor %}
                             
                            </select>
                          <button type="submit" name="filter" class="btn btn-success col-md-2">
                             Filter
                          </button>
                          
                        </div>
                      </form>
                        
                  <table id="example"  class="table table-striped table-bordered">
                      <thead>
                          <tr>
                        <th>Slno</th>
                        <th>name</th>
                        <th style="text-align:center">Skills</th>
                        
                        
                      </tr>
                    </thead>
                    <tbody>
                        {% for s in skill %}
                        
                      <tr>
                        <td>{{forloop.counter}}</td>
                        
                        <td>{{s.user}}</td>
 
                        <td> 
                          <table>
                           
                            <tr> <th> {{s.skill.category.category}} Name </th> <th>  level </th> </tr>
                            
                            <tr> <td>{{s.skill.name}} </td><td> {{s.level.level}} </td> </tr>
                            
                            </table>
                        </td>

                        
                         

                      </tr>
                      
                      {% endfor %}
                      
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
        </div>
        </div>
      </div>

      

      
      <script>
        $(function() {
            $(document).ready(function() {
              $('#example')?.DataTable();
            });
    
             $('#example-getting-started').multiselect();
 

          });
          
      </script>
    <!--[if lt IE 7]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    
    <script src="" async defer></script>
    
    {% endblock content %}