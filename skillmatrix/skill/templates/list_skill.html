{% extends 'base.html' %}
{% block content %}

<div class="container py-7">
    <header class="text-center text-white">
         
            
                
            
            </a>
          </p>
        </header>


        <div class="row py-5">
          <div class="col-lg-10 mx-auto">
            <div class="card rounded shadow border-0">
              <div class="card-body p-5 bg-white rounded">
                <div class="table-responsive">
                   


                    <div id="example_filter" class="dataTables_filter">
                     
                      <a href="{% url 'add_skill_matrix' %}" class="btn btn-primary float-right">ADD</a>
                    </div>
                     <form action="" >

                       <div class="form-control">
                         
                         <select id="skill" name="skill" class="custom-select col-md-2" >
                          <option value="{% if request.GET.skill %}{{ request.GET.skill }}{% else %}{% endif %}" selected>{% if request.GET.skill %}{{ request.GET.skill }}{% else %}Select Skill{% endif %}</option>
                           {% for sk in s %}
                           <option value="{{sk.id}}">{{sk.name}}</option>
                           {% endfor %}
                           
                          </select>

                          <select id="level" name="level" class="custom-select col-md-2" >
                            <option value="{% if request.GET.level %}{{ request.GET.level }}{% else %}{% endif %}" selected>{% if request.GET.level %}{{ request.GET.level }}{% else %}Select Level{% endif %}</option>
                             {% for lk in l %}
                             <option value="{{lk.id}}">{{lk.level}}</option>
                             {% endfor %}
                             
                            </select>
                          <button type="submit" name="filter" class="btn btn-success col-md-2">
                             Filter
                          </button>
                          
                        </div>
                      </form>
                        
                  <table id="example"  class="table table-striped table-bordered">
                      <thead>
                          <tr>
                        <th>Slno</th>
                        <th>name</th>
                        <th>Technology</th>
                        <th>Framework</th>
                        <th>Database</th>
                        <th>Operating System</th>
                        <th>Web Api</th>
                        
                      </tr>
                    </thead>
                    <tbody>
                        {% for s in skill %}
                        
                      <tr>
                        <td>{{forloop.counter}}</td>
                        
                        <td>{{s.user}}</td>
 
                        <td> 
                          <table>
                           
                            <tr> <th> Technology Name </th> <th> Technology level </th> </tr>
                            {% for t in technology  %}
                            {% if t.user == s.user %}
                            <tr> <td>{{t.skill.name}} </td><td> {{t.level.level}} </td> </tr>
                            {% endif %}
                            {% endfor %}
                            </table>
                        </td>

                        <td> 
                          <table>
                           
                            <tr> <th> Framework Name </th> <th> Framework level </th> </tr>
                            {% for f in framework  %}
                            {% if f.user == s.user %}
                            <tr> <td> {{f.skill.name}} </td><td> {{f.level.level}} </td> </tr>
                            {% endif %}
                            {% endfor %}
                            </table>
                        </td>

                        <td> 
                          <table>
                           
                            <tr> <th> Database Name </th> <th> Database level </th> </tr>
                            {% for d in database  %}
                            {% if d.user == s.user %}
                            <tr> <td> {{d.skill.name}} </td><td> {{d.level.level}} </td> </tr>
                            {% endif %}
                            {% endfor %}
                            </table>
                        </td>

                        <td> 
                          <table>
                           
                            <tr> <th> Operating system Name </th> <th> Operating system level </th> </tr>
                            {% for o in os  %}
                            {% if o.user == s.user %}
                            <tr> <td> {{o.skill.name}} </td><td> {{o.level.level}} </td> </tr>
                            {% endif %}
                            {% endfor %}
                            </table>
                        </td>
                        
                        <td> 
                          <table>
                           
                            <tr> <th> WebApi Name </th> <th> webApi level </th> </tr>
                            {% for w in webapi  %}
                            {% if w.user == s.user %}
                            <tr> <td> {{w.skill.name}} </td><td> {{w.level.level}} </td> </tr>
                            {% endif %}
                            {% endfor %}
                            </table>
                        </td>

                      </tr>
                      
                      {% endfor %}
                      
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
        </div>
        </div>
      </div>

      

      
      <script>
        $(function() {
            $(document).ready(function() {
              $('#example').DataTable();
            });
    
             $('#example-getting-started').multiselect();
 

          });
          
      </script>
    <!--[if lt IE 7]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    
    <script src="" async defer></script>
    
    {% endblock content %}